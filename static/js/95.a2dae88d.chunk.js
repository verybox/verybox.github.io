"use strict";(self.webpackChunkverybox_tools=self.webpackChunkverybox_tools||[]).push([[95],{25723:function(e,t,s){s.d(t,{Z:function(){return u}});var n=s(72791),r=s(81499),a=s(13811),i=s(29823),o=s(32232),c=s(74142),d=s(80184);function l(e){return(0,d.jsx)(o.Z,{...e,direction:"right"})}function u(e){const t=(0,c.Z)(),[s,o]=n.useState([]),[u,h]=n.useState(!1),[p,f]=n.useState(void 0),[m,g]=n.useState(void 0);n.useEffect((()=>{g((()=>l)),s.length&&!p?(f({...s[0]}),o((e=>e.slice(1))),h(!0)):s.length&&p&&u&&h(!1)}),[s,p,u]);const x=(e,t)=>{"clickaway"!==t&&h(!1)};return n.useEffect((()=>{o((t=>[...t,{message:e.msg,key:(new Date).getTime()}]))}),[]),(0,d.jsx)("div",{style:{background:t.palette.secondary.main},children:(0,d.jsx)(r.Z,{open:u,autoHideDuration:4e3,onClose:x,TransitionComponent:m,TransitionProps:{onExited:()=>{f(void 0)}},message:p?p.message:void 0,action:(0,d.jsx)(n.Fragment,{children:(0,d.jsx)(a.Z,{"aria-label":"close",color:"inherit",sx:{p:.5},onClick:x,children:(0,d.jsx)(i.Z,{})})})},p?p.key:void 0)})}},72246:function(e,t,s){s.d(t,{Z:function(){return d}});s(72791);var n=s(76863),r=s(30294),a=s(73978),i=s(94162),o=s(80184);const c=(0,n.ZP)(r.Z)((e=>{let{theme:t}=e;return{"& .MuiBadge-badge":{backgroundColor:"#44b700",color:"#44b700",boxShadow:`0 0 0 2px ${t.palette.background.paper}`,"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}));(0,n.ZP)(a.Z)((e=>{let{theme:t}=e;return{width:22,height:22,border:`2px solid ${t.palette.background.paper}`}}));function d(){return(0,o.jsx)(i.Z,{direction:"row",spacing:2,children:(0,o.jsx)(c,{overlap:"circular",anchorOrigin:{vertical:"top",horizontal:"left"},variant:"dot"})})}},5951:function(e,t,s){s.d(t,{Z:function(){return h}});var n=s(72791),r=s(45953),a=s(75017),i=s(17205),o=s(57879),c=s(75377),d=s(25723),l=s(25091),u=s(80184);function h(e){const{t:t}=(0,o.$)(),[s,h]=(0,n.useState)(l.IB.RPC),[p,f]=(0,n.useState)({isOpen:!1,msg:""});return(0,u.jsxs)(r.ZP,{container:!0,spacing:2,children:[(0,u.jsx)(r.ZP,{item:!0,xs:12,sm:6,children:(0,u.jsx)(a.Z,{fullWidth:!0,id:"rpc",label:t("setRPC.node"),variant:"outlined",size:"small",value:s,onChange:e=>{h(e.target.value)}})}),(0,u.jsxs)(r.ZP,{item:!0,xs:12,sm:5,children:[(0,u.jsx)(i.Z,{variant:"contained",onClick:()=>{(0,c.Z)(s).then((n=>{0==n?(e.action.changeRPCAction({available:!1,rpc:s,msg:`${t("setRPC.connectRPCFail")}`}),f({isOpen:!0,msg:`${t("setRPC.connectRPCFail")}`})):(e.action.changeRPCAction({available:!0,rpc:s,msg:`${t("setRPC.connectRPCSuccess")} ${n} mm`}),f({isOpen:!0,msg:`${t("setRPC.connectRPCSuccess")} ${n} mm`}))}))},children:t("setRPC.confirm")}),(0,u.jsx)(i.Z,{variant:"outlined",onClick:()=>{h("")},disabled:""==s,style:{marginLeft:5},children:t("setRPC.clear")})]}),(0,u.jsx)(r.ZP,{item:!0,xs:12,style:{display:p.isOpen?" ":"none"},children:(0,u.jsx)(d.Z,{msg:p.msg})},p.msg)]})}},17223:function(e,t,s){s.d(t,{e:function(){return a}});var n=s(25091);const r=s(74569).default;async function a(e,t){const s=n.qr;try{const e=await r.get(s,{params:{address:t}}).then((function(e){return e.data.result})).catch((function(e){}));JSON.parse(e);return e}catch(a){return 0}}},75377:function(e,t,s){s.d(t,{Z:function(){return r}});const n=s(55813);function r(e){const t=new n(new n.providers.HttpProvider(e)),s=Date.now();return t.eth.getChainId().then((e=>Date.now()-s)).catch((e=>!1))}},48189:function(e){e.exports=e=>{const t=e=>{let t=[];const s=e.length;let n=0,r=10,a=0;for(t[0]=e.slice(0,10),n+=10,r=64,a++;n<s;)t[a]=e.slice(n,n+64),n+=64,a++;return t},s=e=>{if(e.length<64)e="0".repeat(64-e.length)+e;if(e.length>64)e=e.slice(0,63);return e},n=(e,n)=>{for(let r=0;r<n.length;r++)switch(n[r].action){case"transferEth":if(n[r].address==e.from.toLowerCase())return{action:"transferEth"};break;case"recieveEth":if(n[r].address==e.to.toLowerCase())return{action:"recieveEth"};break;case"transferToken":if(n[r].address==e.from.toLowerCase()&&n[r].oppositeAddress==e.to.toLowerCase()&&e.input){if(t(e.input)[0]="0xa9059cbb")return{action:"transferToken"}}break;case"recieveToken":if(n[r].oppositeAddress==e.to.toLowerCase()&&e.input){const a=t(e.input);if(a[0]=a[1].toLowerCase()==s(n[r].address.slice(2)))return{action:"recieveToken"}}break;case"transferNFT":if(n[r].address==e.from.toLowerCase()&&n[r].oppositeAddress==e.to.toLowerCase()&&e.input){const a=t(e.input);if(a[0]=a[1].toLowerCase()==s(n[r].address.slice(2)))return{action:"transferNFT"}}break;case"recieveNFT":n[r].oppositeAddress,e.to.toLowerCase();break;case"interactToContract":if(n[r].address==e.from.toLowerCase()&&n[r].oppositeAddress==e.to.toLowerCase())return{action:"interactToContract"};break;case"beingInteracted":if(n[r].address==e.to.toLowerCase())return{action:"beingInteracted"};break;case"noSelected":if(n[r].address==e.from.toLowerCase()||n[r].address==e.to.toLowerCase())return{action:"noSelected"};if(e.input){if(t(e.input).map((e=>e.toLowerCase())).includes(s(n[r].address.slice(2))))return{action:"noSelected"}}break;default:return!1}};return{checkLastBlock:async t=>{const s=t.map((e=>e.toLowerCase()));let n=await e.eth.getBlock("latest",!0);if(n&&n.transactions)for(let r of n.transactions){let t=await e.eth.getTransaction(r);t.from&&s.includes(t.from.toLowerCase())}return 0},checkBlocks:async(t,s,n)=>{const r=n.map((e=>e.toLowerCase()));for(let a=t;a<s;a++){let t=await e.eth.getBlock(a);if(t&&t.transactions)for(let s of t.transactions){let t=await e.eth.getTransaction(s);r.includes(t.from.toLowerCase())}}},getActionsFromLastBlock:async(t,s)=>{const n=t.map((e=>e.toLowerCase())),r=s.map((e=>e.toLowerCase().slice(0,10)));let a=[],i=await e.eth.getBlock("latest",!0);if(i&&i.transactions)for(let e of i.transactions)e.to&&n.includes(e.to.toLowerCase())&&(0==r.length||r.includes(e.input.slice(0,10)))&&a.push(e);return a},getAddressActionsFromLastBlock:async t=>{let s=[],r=[];t.map((t=>{e.utils.isAddress(t.address)&&s.push(t.address),e.utils.isAddress(t.oppositeAddress)&&r.push(t.oppositeAddress)}));let a=[],i=await e.eth.getBlock("latest",!0);if(i&&i.transactions)for(let e of i.transactions)if(e.to&&(s.includes(e.to.toLowerCase())||s.includes(e.from.toLowerCase())||r.includes(e.to.toLowerCase())||r.includes(e.from.toLowerCase()))){const s=n(e,t);if(s){let t={...e,action:s.action};a.push(t)}}return a}}}},81095:function(e,t,s){s.r(t),s.d(t,{default:function(){return E}});var n=s(72791),r=s(3087),a=s(45953),i=s(17205),o=s(13811),c=s(66648),d=s(7693),l=s(5951),u=s(25723),h=s(87122),p=s(57879),f=s(25091),m=s(23735),g=s(91923),x=s(74142),w=s(72246),v=s(35702),C=s(75017),Z=s(81898),b=s(40508),k=s(65145),A=s(5397),j=(s(17223),s(28776),s(80184));function P(e){const{t:t}=(0,p.$)(),{chain:s,chainId:r}=((0,x.Z)(),f.IB),[o,c]=(0,n.useState)(0),[d,l]=(0,n.useState)([{txt:t("watchAddress.transferEth"),action:"transferEth"},{txt:t("watchAddress.recieveEth"),action:"recieveEth"},{txt:t("watchAddress.transferToken"),action:"transferToken"},{txt:t("watchAddress.recieveToken"),action:"recieveToken"},{txt:t("watchAddress.transferNFT"),action:"transferNFT"},{txt:t("watchAddress.recieveNFT"),action:"recieveNFT"},{txt:t("watchAddress.interactToContract"),action:"interactToContract"},{txt:t("watchAddress.beingInteracted"),action:"beingInteracted"}]),[u,h]=(0,n.useState)([]),[m,g]=(0,n.useState)(""),w=e=>{let t="";t=["transferToken","recieveToken","transferNFT","recieveNFT","interactToContract","beingInteracted"].includes(e)?"(*)":"",g(t)};return n.useEffect((()=>{(e=>{let s=[];s.push((0,j.jsx)(v.Z,{value:"noSelected",children:t("watchAddress.noSelected")},9999)),e.forEach(((e,t)=>{s.push((0,j.jsx)(v.Z,{value:e.action,children:e.txt},t))})),h(s)})(d),c(e.index)}),[e]),(0,j.jsxs)(a.ZP,{container:!0,spacing:1,children:[(0,j.jsx)(a.ZP,{item:!0,xs:3,children:(0,j.jsx)(C.Z,{fullWidth:!0,id:"A_"+o,label:t("watchAddress.address")+"( * )",variant:"outlined",size:"small",value:e.address,onChange:async t=>{e.addressParamChange(t)}})}),(0,j.jsx)(a.ZP,{item:!0,xs:3,children:(0,j.jsx)(C.Z,{fullWidth:!0,id:"O_"+o,label:t("watchAddress.oppositeAddress")+m,variant:"outlined",size:"small",value:e.oppositeAddress,onChange:async t=>{e.oppositeParamChange(t)}})}),(0,j.jsx)(a.ZP,{item:!0,xs:3,children:(0,j.jsxs)(Z.Z,{fullWidth:!0,children:[(0,j.jsx)(b.Z,{id:"action_label"+o,size:"small",children:t("watchAddress.action")}),(0,j.jsx)(k.Z,{id:"action_select_"+o,name:"S_"+o,label:t("watchAddress.action"),labelId:"action_label"+o,size:"small",value:e.action,onChange:t=>{w(t.target.value),e.actionSelectChange(t)},children:u})]})}),(0,j.jsx)(a.ZP,{item:!0,xs:1,children:(0,j.jsx)(i.Z,{id:o,variant:"outlined",startIcon:(0,j.jsx)(A.Z,{}),onClick:t=>{e.deleteParam(t)},children:t("watchAddress.delParam")})})]})}const y=s(55813),S=s(48189),T=(e,t,s)=>e.length>t+s?`${e.substring(0,t)}...${e.substring(e.length-s)}`:e;let L=!1;const R=s(81264);d.Z.get("mintedHash")&&d.Z.get("mintedHash"),d.Z.get("mintedContract")&&d.Z.get("mintedContract");let N=null,$=0,I=[];var E=function(){const{t:e,i18n:t}=(0,p.$)(),s=(0,x.Z)(),{CHAIN:d,CHAINID:v}=((0,r.I0)(),f.IB),[C,Z]=(0,n.useState)(f.IB.RPC),[b,k]=(0,n.useState)(new y(new y.providers.HttpProvider(C))),[A,E]=(0,n.useState)({isOpen:!1,msg:""}),[B,F]=(0,n.useState)([{address:"",oppositeAddress:"",action:"noSelected"}]),[O,H]=(0,n.useState)(!1),[z,_]=(0,n.useState)({type:"",msg:null}),[D,M]=(0,n.useState)(!1),[W,V]=(0,n.useState)(0);(0,n.useEffect)((()=>(L=!1,()=>{clearInterval(N)})),[]);let q=null;const J=()=>{G(),q=setInterval(G,3e3),N=q},G=async()=>{const{getAddressActionsFromLastBlock:e}=S(b),t=await b.eth.getBlockNumber();V(t),$<t&&($=t,e(I).then((e=>{e.length>0&&(e.map((e=>{he(e)})),K())})))},K=()=>{new Audio(R).play()},[Q,U]=(0,n.useState)({}),X=()=>{const t=Y();var s,n;return s="watchAddr",n=!t,U((e=>({...e,[s]:n}))),t?(te(),!0):(E({isOpen:!0,msg:`${e("watchAddress.pleaseSetTheWatchAddress")} ( Time: ${Date.now()} )`}),!1)},Y=()=>{if(!b.utils.isAddress(B[0].address))return!1;for(let e=0;e<B.length;e++){if(""==B[e].address)return!1;if(B[e].address==B[e].oppositeAddress)return!1;if(!ee(B[e]))return!1}return!0},ee=e=>{switch(e.action){case"transferEth":case"recieveEth":case"noSelected":break;case"transferToken":case"recieveToken":case"transferNFT":case"recieveNFT":case"interactToContract":case"beingInteracted":if(""==e.oppositeAddress)return!1;break;default:return!0}return!0},te=()=>{let e=[];e=[...B];for(let t=0;t<B.length;t++)if("noSelected"==B[t].action){for(let s=e.length-1;s>=0;s--)B[t].address==e[s].address&&e.splice(s,1);e.push(B[t])}I=e},se=e=>{let t=e.target.name.slice(2),s=e.target.value;B[t].action=s,F(B),oe()},ne=e=>{let t=e.target.id.slice(2),s=e.target.value.trim().toLowerCase();B[t].address=s,F(B),oe()},re=e=>{let t=e.target.id.slice(2),s=e.target.value.trim().toLowerCase();B[t].oppositeAddress=s,F(B),oe()},[ae,ie]=(0,n.useState)([]),oe=()=>{let e=[];B.forEach(((t,s)=>{e.push((0,j.jsx)(a.ZP,{item:!0,xs:12,children:(0,j.jsx)(P,{index:s,address:B[s].address,oppositeAddress:B[s].oppositeAddress,action:B[s].action,addressParamChange:ne,oppositeParamChange:re,actionSelectChange:se,deleteParam:ce,web3:b})},s))})),ie(e)},ce=e=>{B.splice(e.target.id,1),F(B),oe()};(0,n.useEffect)((()=>{oe()}),[]);const[de,le]=(0,n.useState)([]),ue=[{field:"id",headerName:e("watchAddress.id"),width:20},{field:"from",headerName:e("watchAddress.from"),width:200},{field:"to",headerName:e("watchAddress.to"),width:160},{field:"hash",headerName:e("watchAddress.hash"),width:300},{field:"action",headerName:e("watchAddress.actionHeader"),width:300}],he=async t=>{try{le((e=>[...e,{id:e.length,from:T(t.from,4,6),to:T(t.from,4,6),hash:T(t.hash,4,16),action:t.action}]))}catch(s){}E({isOpen:!0,msg:`${e("watchAddress.foundNewTx")} ${t.hash}`})},[pe,fe]=(0,n.useState)(!0);return(0,j.jsx)(m.Z,{title:e("watchAddress.title"),secondary:(0,j.jsxs)(a.ZP,{item:!0,xs:6,style:{textAlign:"right",verticalAlign:"middle",paddingTop:6,paddingBottom:6},children:[D&&(0,j.jsx)(w.Z,{}),(0,j.jsx)(i.Z,{variant:"contained",onClick:()=>{if(X()){if(L=!L,M(L),!L)return clearInterval(N),void(N=null);J()}},color:"secondary",sx:{borderRadius:10},children:e(D?"watchAddress.startRunning":"watchAddress.start")}),(0,j.jsx)(o.Z,{"aria-label":"settings",onClick:()=>{fe(!pe)},title:"click to open/close setting",children:(0,j.jsx)(h.Z,{})})]}),children:(0,j.jsxs)(a.ZP,{container:!0,spacing:g.dv,children:[(0,j.jsx)(a.ZP,{item:!0,xs:12,style:{display:pe?"":"none"},children:(0,j.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,j.jsx)(a.ZP,{item:!0,xs:12,children:(0,j.jsx)(a.ZP,{container:!0,spacing:2,children:(0,j.jsx)(a.ZP,{item:!0,xs:12,children:(0,j.jsx)(l.Z,{action:{changeRPCAction:e=>{e.available&&(k(new y(new y.providers.HttpProvider(e.rpc))),L&&(L=!1,M(L)))}},data:{rpc:C}})})})}),(0,j.jsx)(a.ZP,{item:!0,xs:12,children:(0,j.jsx)(a.ZP,{container:!0,spacing:2,children:(0,j.jsxs)(a.ZP,{item:!0,xs:12,children:[e("watchAddress.watchAddresses"),(0,j.jsx)(i.Z,{sx:{ml:2},variant:"outlined",onClick:()=>{B.push({address:"",oppositeAddress:"",action:"noSelected"}),F(B),oe()},children:e("watchAddress.add")})]})})}),ae]})}),(0,j.jsx)(a.ZP,{item:!0,xs:12,style:{display:A.isOpen?" ":"none"},children:(0,j.jsx)(u.Z,{msg:A.msg})},A.msg),(0,j.jsx)(a.ZP,{item:!0,xs:12,style:{marginTop:2,height:300,width:"100%"},children:(0,j.jsx)(c._,{rows:de,columns:ue,style:{marginTop:10,borderRadius:10,border:"1px solid",borderColor:s.palette.secondary.main}})})]})})}},87122:function(e,t,s){var n=s(64836);t.Z=void 0;var r=n(s(45649)),a=s(80184),i=(0,r.default)((0,a.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");t.Z=i},5397:function(e,t,s){var n=s(40233),r=s(80184);t.Z=(0,n.Z)((0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")},94162:function(e,t,s){var n=s(63366),r=s(87462),a=s(72791),i=s(51184),o=s(45682),c=s(78519),d=s(82466),l=s(76863),u=s(67254),h=s(80184);const p=["component","direction","spacing","divider","children"];function f(e,t){const s=a.Children.toArray(e).filter(Boolean);return s.reduce(((e,n,r)=>(e.push(n),r<s.length-1&&e.push(a.cloneElement(t,{key:`separator-${r}`})),e)),[])}const m=(0,l.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>[t.root]})((e=>{let{ownerState:t,theme:s}=e,n=(0,r.Z)({display:"flex",flexDirection:"column"},(0,i.k9)({theme:s},(0,i.P$)({values:t.direction,breakpoints:s.breakpoints.values}),(e=>({flexDirection:e}))));if(t.spacing){const e=(0,o.hB)(s),r=Object.keys(s.breakpoints.values).reduce(((e,s)=>(("object"===typeof t.spacing&&null!=t.spacing[s]||"object"===typeof t.direction&&null!=t.direction[s])&&(e[s]=!0),e)),{}),a=(0,i.P$)({values:t.direction,base:r}),c=(0,i.P$)({values:t.spacing,base:r});"object"===typeof a&&Object.keys(a).forEach(((e,t,s)=>{if(!a[e]){const n=t>0?a[s[t-1]]:"column";a[e]=n}}));const l=(s,n)=>{return{"& > :not(style) + :not(style)":{margin:0,[`margin${r=n?a[n]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[r]}`]:(0,o.NA)(e,s)}};var r};n=(0,d.Z)(n,(0,i.k9)({theme:s},c,l))}return n=(0,i.dt)(s.breakpoints,n),n})),g=a.forwardRef((function(e,t){const s=(0,u.Z)({props:e,name:"MuiStack"}),a=(0,c.Z)(s),{component:i="div",direction:o="column",spacing:d=0,divider:l,children:g}=a,x=(0,n.Z)(a,p),w={direction:o,spacing:d};return(0,h.jsx)(m,(0,r.Z)({as:i,ownerState:w,ref:t},x,{children:l?f(g,l):g}))}));t.Z=g},81264:function(e,t,s){e.exports=s.p+"static/media/beep.560257e0df7fbcb146ef.mp3"}}]);
//# sourceMappingURL=95.a2dae88d.chunk.js.map