"use strict";(self.webpackChunkverybox_tools=self.webpackChunkverybox_tools||[]).push([[359],{21359:function(e,t,a){a.r(t);var s=a(47313),i=a(24240),n=a(83077),r=a(43394),l=a(66356),c=a(82937),d=a(10383),o=a(91294),x=a(74897),m=a(81962),h=a(36368),u=a(73477),p=a(11626),g=a(62463),j=a(35192),y=a(68737),Z=a(35540),v=a(25319),P=a(17201),f=a(25091),D=a(71247),b=a(33497),C=a(83838),B=a(62111),w=a(32703),S=a(46417);a(78466);const A=a(15372);let k=!1;t.default=function(){const{t:e}=(0,i.$)(),t=(0,B.Z)(),{CHAIN:a,CHAINID:I}=f.IB,[T,H]=(0,s.useState)(f.IB.RPC),[_,F]=(0,s.useState)(new A(new A.providers.HttpProvider(T))),[W,z]=(0,s.useState)(""),[N,E]=(0,s.useState)(2),[G,K]=(0,s.useState)(2),[O,L]=(0,s.useState)(0),[M,V]=(0,s.useState)([{type:"uint256",value:1}]),[q,R]=(0,s.useState)({addrStr:"",pkStr:"",pkArr:[],addrArr:[]}),[U,X]=(0,s.useState)({isOpen:!1,msg:"",nonce:""}),$=e=>{let t=e.target.name.slice(2),a=e.target.value;M[t].type=a,V(M),ce()},J=e=>{let t=e.target.id.slice(2),a=e.target.value;M[t].value=a,V(M),ce()},[Q,Y]=(0,s.useState)(!1),[ee,te]=(0,s.useState)({type:"",msg:null}),[ae,se]=(0,s.useState)(!1),ie=()=>{let e=setInterval((async()=>{const t=await async function(e){const{_estimateGas:t}=(0,D.n)(_,a),s=_.eth.accounts.privateKeyToAccount(e).address,i=await _.eth.getTransactionCount(s);return await t({from:s,to:W,value:O,gasLimit:f.Lw,maxPriorityFeePerGas:N,maxFeePerGas:G,data:fe,nonce:i})}(q.pkArr[0]);"INSUFFICIENT_FUNDS"!=t.error?"number"==typeof t&&t<f.Lw&&(clearInterval(e),q.pkArr.forEach(((e,t)=>{ne({index:t,timesChange:1,status:"pending..."}),async function(e,t){const{_sendTx:s}=(0,D.n)(_,a),i=fe,n=_.eth.accounts.privateKeyToAccount(e).address;let r=await _.eth.getTransactionCount(n);const l=await s({from:n,to:W,value:O,gasLimit:f.Lw,maxPriorityFeePerGas:N,maxFeePerGas:G,data:i,nonce:r,pk:e});let c="";c=Object.keys(l).includes("error")?"\xd7 "+l.error:"\u2713 "+l.transactionHash;ne({index:t,timesChange:0,status:c})}(e,t),q.pkArr.length-1==t&&se(!1)}))):clearInterval(e)}),1e3)},ne=async e=>{let{index:t,timesChange:a,status:s}=e;try{xe((e=>{let i=[...e];for(let n=0;n<i.length;n++)n==t&&(i[n]={id:i[n].id,address:i[n].address,balance:i[n].balance,times:i[n].times+a,status:s});return i}))}catch(i){}X({isOpen:!0,msg:s,nonce:parseInt(1e4*Math.random())})},[re,le]=(0,s.useState)([]),ce=()=>{let e=[];M.forEach(((t,a)=>{e.push((0,S.jsx)(c.ZP,{item:!0,xs:12,children:(0,S.jsxs)(c.ZP,{container:!0,spacing:2,children:[(0,S.jsx)(c.ZP,{item:!0,xs:2,children:(0,S.jsxs)(d.Z,{fullWidth:!0,children:[(0,S.jsx)(o.Z,{id:"param_label"+a,size:"small",children:"Param Type"}),(0,S.jsxs)(x.Z,{id:"param_select_"+a,name:"S_"+a,label:"Param Type",labelId:"param_label"+a,size:"small",value:M[a].type,onChange:$,children:[(0,S.jsx)(m.Z,{value:"address",children:"address"}),(0,S.jsx)(m.Z,{value:"uint8",children:"uint8"}),(0,S.jsx)(m.Z,{value:"uint256",children:"uint256"}),(0,S.jsx)(m.Z,{value:"bool",children:"bool"})]})]})}),(0,S.jsx)(c.ZP,{item:!0,xs:6,children:(0,S.jsx)(h.Z,{fullWidth:!0,id:"T_"+a,label:"Param Value",variant:"outlined",size:"small",value:M[a].value,onChange:J})}),(0,S.jsx)(c.ZP,{item:!0,xs:2,children:(0,S.jsx)(u.Z,{id:a,variant:"outlined",startIcon:(0,S.jsx)(j.Z,{}),onClick:de,children:"Del"})})]})},a))})),le(e)},de=e=>{M.splice(e.target.id,1),V(M),ce()};(0,s.useEffect)((()=>{ce()}),[]);const[oe,xe]=(0,s.useState)([{id:1,address:"",balance:"",times:"",hash:"No Data",status:"",action:""}]),me=[{field:"id",hide:!0},{field:"address",headerName:e("mintBy0xData.address"),width:150},{field:"balance",headerName:e("mintBy0xData.amount"),width:80},{field:"times",headerName:e("mintBy0xData.requestTimes"),width:160},{field:"status",headerName:e("mintBy0xData.status"),width:400}],he=async e=>{let t=await Promise.all(e.map((async(e,t)=>{const a=_.eth.accounts.privateKeyToAccount(e).address,s=await _.eth.getBalance(a);return{id:t+1,address:a,balance:_.utils.fromWei(s,"ether"),times:0,status:"--"}})));xe(t)},[ue,pe]=(0,s.useState)(new Date),[ge,je]=(0,s.useState)(!1),[ye,Ze]=(0,s.useState)(0),[ve,Pe]=(0,s.useState)(""),[fe,De]=(0,s.useState)(""),[be,Ce]=(0,s.useState)([]),[Be,we]=(0,s.useState)(e("mintBy0xData.editHexData")),Se=async e=>{let t=await _.eth.getTransaction(e);t.from&&Ae(t)},Ae=e=>{const{to:t,maxPriorityFeePerGas:a,maxFeePerGas:s,value:i,gas:n,gasprice:r,input:l}=e;z(t),E(a?_.utils.fromWei(a,"gwei"):0),K(s?_.utils.fromWei(s,"gwei"):0),L(_.utils.fromWei(i)),De(l);const c=ke(l);Ce(c)},ke=e=>{let t=[];const a=e.length;let s=0,i=10,n=0;for(t[0]=e.slice(0,10),s+=10,i=64,n++;s<a;)t[n]=e.slice(s,s+64),s+=64,n++;return t},[Ie,Te]=(0,s.useState)([]),He=()=>{let t=[];be.forEach(((a,s)=>{t.push((0,S.jsx)(c.ZP,{item:!0,xs:12,children:(0,S.jsx)(c.ZP,{container:!0,spacing:2,children:(0,S.jsx)(c.ZP,{item:!0,xs:10,children:(0,S.jsx)(h.Z,{fullWidth:!0,id:"D_"+s,label:e("mintBy0xData.hexDataParam"),variant:"outlined",size:"small",value:be[s],onChange:_e})})})},s))})),Te(t)},_e=e=>{let t=e.target.id.slice(2),a=e.target.value;be[t]=a,Ce(be),De(be.join("")),He()},[Fe,We]=(0,s.useState)({}),ze=(e,t)=>{We((a=>({...a,[e]:t})))},Ne=()=>{const e=Ke(ve);if(ze("transactionHash",!e),!e)return X({isOpen:!0,msg:"Transaction Hash not valid",nonce:parseInt(1e4*Math.random())}),!1;const t=Ee(W);if(ze("contractAddress",!t),!t)return X({isOpen:!0,msg:"Contract Address required",nonce:parseInt(1e4*Math.random())}),!1;const a="NaN"!=parseFloat(O).toString();if(ze("ethValue",!a),!a)return X({isOpen:!0,msg:"Eth Value not valid",nonce:parseInt(1e4*Math.random())}),!1;const s=Ge();return ze("privateKey",!s),s?!!(t&&a&&s&&e):(X({isOpen:!0,msg:"Private Key required",nonce:parseInt(1e4*Math.random())}),!1)},Ee=e=>""!=e&&_.utils.isAddress(e),Ge=()=>q.pkArr.length>0,Ke=e=>/0[xX]{1}[ABCDEFabcdef0-9]{64}/g.test(e);return(0,S.jsx)(b.Z,{title:e("mintBy0xData.title"),children:(0,S.jsxs)(c.ZP,{container:!0,spacing:2,children:[(0,S.jsx)(c.ZP,{item:!0,xs:12,children:(0,S.jsx)(c.ZP,{container:!0,spacing:2,children:(0,S.jsx)(c.ZP,{item:!0,xs:12,children:(0,S.jsx)(Z.Z,{action:{changeRPCAction:e=>{e.available&&F(new A(new A.providers.HttpProvider(e.rpc)))}},data:{rpc:T}})})})}),(0,S.jsx)(c.ZP,{item:!0,xs:12,children:(0,S.jsxs)(c.ZP,{container:!0,spacing:2,children:[(0,S.jsx)(c.ZP,{item:!0,xs:9,sm:9,children:(0,S.jsx)(h.Z,{error:Fe.transactionHash,fullWidth:!0,id:"hash",label:e("mintBy0xData.hash"),variant:"outlined",size:"small",value:ve,onChange:e=>{Pe(e.target.value);/0[xX]{1}[ABCDEFabcdef0-9]{64}/g.test(e.target.value)&&Se(e.target.value)}})}),(0,S.jsx)(c.ZP,{item:!0,xs:1,children:(0,S.jsx)(u.Z,{variant:"text",onClick:()=>{Pe("")},children:e("mintBy0xData.hashClear")})})]})}),(0,S.jsx)(c.ZP,{item:!0,xs:12,children:(0,S.jsxs)(c.ZP,{container:!0,spacing:2,children:[(0,S.jsx)(c.ZP,{item:!0,xs:9,sm:6,children:(0,S.jsx)(h.Z,{error:Fe.contractAddress,fullWidth:!0,id:"contract_address",label:e("mintBy0xData.contractAddress"),variant:"outlined",size:"small",value:W,onChange:e=>{z(e.target.value)}})}),(0,S.jsx)(c.ZP,{item:!0,xs:1,children:(0,S.jsx)(u.Z,{variant:"text",onClick:()=>{z("")},children:e("mintBy0xData.contractAddressClear")})})]})}),(0,S.jsx)(c.ZP,{item:!0,xs:12,children:(0,S.jsxs)(c.ZP,{container:!0,spacing:2,children:[(0,S.jsx)(c.ZP,{item:!0,xs:12,sm:3,children:(0,S.jsx)(h.Z,{fullWidth:!0,id:"maxpriorityfeepergas",label:e("mintBy0xData.maxpriorityfeepergas"),variant:"outlined",size:"small",type:"number",value:N,onChange:e=>{E(e.target.value)}})}),(0,S.jsx)(c.ZP,{item:!0,xs:12,sm:3,children:(0,S.jsx)(h.Z,{fullWidth:!0,id:"maxfeepergas",label:e("mintBy0xData.maxFee"),variant:"outlined",size:"small",type:"number",value:G,onChange:e=>{K(e.target.value)}})}),(0,S.jsx)(c.ZP,{item:!0,xs:12,sm:3,children:(0,S.jsx)(h.Z,{error:Fe.ethValue,fullWidth:!0,id:"eth_value",label:e("mintBy0xData.ethAmout"),variant:"outlined",size:"small",value:O,onChange:e=>{L(e.target.value)}})})]})}),(0,S.jsx)(c.ZP,{item:!0,xs:12,children:(0,S.jsxs)(c.ZP,{container:!0,spacing:1,children:[(0,S.jsx)(c.ZP,{item:!0,xs:10,sm:8,children:(0,S.jsx)(h.Z,{fullWidth:!0,id:"0xData",label:e("mintBy0xData.hexData"),variant:"outlined",size:"small",multiline:!0,rows:4,value:fe,onChange:e=>{De(e.target.value)}})}),(0,S.jsx)(c.ZP,{item:!0,xs:1,children:(0,S.jsx)(u.Z,{variant:"text",onClick:()=>{if(we(Be==e("mintBy0xData.editHexData")?e("mintBy0xData.finishEditHexData"):e("mintBy0xData.editHexData")),Be==e("mintBy0xData.editHexData")){const t=ke(fe);Ce(t),He(),we(e("mintBy0xData.finishEditHexData"))}else Te([]),we(e("mintBy0xData.editHexData"))},children:Be})})]})}),Ie,(0,S.jsx)(c.ZP,{item:!0,xs:12,children:(0,S.jsx)(v.Z,{setPk:e=>{R(e),he(e.pkArr)},provider:_,chain:a,title:e("mintBy0xData.importPrivateKeyTitle"),error:Fe.privateKey,storageKey:"mintPk"})}),(0,S.jsx)(c.ZP,{item:!0,xs:12,style:{display:U.isOpen?" ":"none"},children:(0,S.jsx)(P.Z,{msg:U.msg,nonce:U.nonce})},U.msg),(0,S.jsx)(c.ZP,{item:!0,xs:12,children:(0,S.jsx)(c.ZP,{container:!0,spacing:2,children:(0,S.jsxs)(c.ZP,{item:!0,xs:3,children:[e("mintBy0xData.openTimer"),(0,S.jsx)(p.Z,{checked:ge,onChange:e=>{je(e.target.checked),k=e.target.checked}})]})})}),(0,S.jsx)(c.ZP,{item:!0,xs:12,sx:{fontsize:16,display:ge?"flex":"none",mt:1},children:(0,S.jsxs)(c.ZP,{container:!0,spacing:2,sx:{justifyContent:"flex-start",alignItems:"center",border:"solid 1px",borderColor:t.palette.grey[500],borderRadius:2,pb:"16px",ml:0,mr:0},children:[(0,S.jsxs)(c.ZP,{item:!0,sx:{minWidth:120,display:"flex"},children:[e("mintBy0xData.leftTime"),(0,S.jsx)("span",{style:{color:t.palette.secondary.main,paddingLeft:5},children:ye})]}),(0,S.jsx)(c.ZP,{item:!0,children:(0,S.jsx)(r._,{dateAdapter:n.H,children:(0,S.jsx)(g.Z,{spacing:3,children:(0,S.jsx)(l.x,{size:"small",hideTabs:!0,value:ue,onChange:e=>{pe(e)},minDate:new Date("2022-05-1"),renderInput:e=>(0,S.jsx)(h.Z,{...e})})})})})]})}),(0,S.jsx)(c.ZP,{item:!0,xs:12,children:(0,S.jsx)(c.ZP,{container:!0,spacing:2,children:(0,S.jsx)(c.ZP,{item:!0,xs:1,children:(0,S.jsx)(w.Z,{onClick:async()=>{Ne()&&(()=>{const e={transactionHash:ve,contractAddress:W,maxPriorityFeePerGas:N,maxFeePerGas:G,addressess:q.pkArr.map((e=>_.eth.accounts.privateKeyToAccount(e).address)),ethValue:O,HexData:fe};te({type:"_mintBy0xData",msg:e}),Y(!0)})()},loading:ae,variant:"contained",children:(0,S.jsx)("span",{children:e("mintBy0xData.execute")})})})})}),(0,S.jsx)(c.ZP,{item:!0,xs:12,style:{height:300,width:"100%"},children:(0,S.jsx)(y._,{rows:oe,columns:me})}),ee.msg&&(0,S.jsx)(c.ZP,{item:!0,xs:12,children:(0,S.jsx)(C.U,{isOpen:Q,msg:ee.msg,okAction:async()=>{if(Ne())if(se(!0),k){let e=setInterval((()=>{let t=(new Date(ue).getTime()-Date.now())/1e3;t=t>0?t:0,Ze(t),0!=k?0==t&&(clearInterval(e),ie()):clearInterval(e)}),100)}else ie()},closeDialog:()=>{Y(!1)},type:ee.type})})]})})}}}]);