"use strict";(self.webpackChunkverybox_tools=self.webpackChunkverybox_tools||[]).push([[197],{17201:function(e,t,s){s.d(t,{Z:function(){return h}});var n=s(47313),r=s(82315),a=s(18104),o=s(11198),i=s(69791),c=s(62111),d=s(46417);function l(e){return(0,d.jsx)(i.Z,{...e,direction:"right"})}function h(e){const t=(0,c.Z)(),[s,i]=n.useState([]),[h,u]=n.useState(!1),[p,f]=n.useState(void 0),[m,g]=n.useState(void 0);n.useEffect((()=>{g((()=>l)),s.length&&!p?(f({...s[0]}),i((e=>e.slice(1))),u(!0)):s.length&&p&&h&&u(!1)}),[s,p,h]);const x=(e,t)=>{"clickaway"!==t&&u(!1)};return n.useEffect((()=>{i((t=>[...t,{message:e.msg,key:(new Date).getTime()}]))}),[e.nonce]),(0,d.jsx)("div",{style:{background:t.palette.secondary.main},children:(0,d.jsx)(r.Z,{open:h,autoHideDuration:4e3,onClose:x,TransitionComponent:m,TransitionProps:{onExited:()=>{f(void 0)}},message:p?p.message:void 0,action:(0,d.jsx)(n.Fragment,{children:(0,d.jsx)(a.Z,{"aria-label":"close",color:"inherit",sx:{p:.5},onClick:x,children:(0,d.jsx)(o.Z,{})})})},p?p.key:void 0)})}},25001:function(e,t,s){s.d(t,{Z:function(){return d}});s(47313);var n=s(42379),r=s(65590),a=s(86227),o=s(62463),i=s(46417);const c=(0,n.ZP)(r.Z)((e=>{let{theme:t}=e;return{"& .MuiBadge-badge":{backgroundColor:"#44b700",color:"#44b700",boxShadow:`0 0 0 2px ${t.palette.background.paper}`,"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}));(0,n.ZP)(a.Z)((e=>{let{theme:t}=e;return{width:22,height:22,border:`2px solid ${t.palette.background.paper}`}}));function d(){return(0,i.jsx)(o.Z,{direction:"row",spacing:2,children:(0,i.jsx)(c,{overlap:"circular",anchorOrigin:{vertical:"top",horizontal:"left"},variant:"dot"})})}},35540:function(e,t,s){s.d(t,{Z:function(){return u}});var n=s(47313),r=s(82937),a=s(36368),o=s(73477),i=s(24240),c=s(90302),d=s(17201),l=s(25091),h=s(46417);function u(e){const{t:t}=(0,i.$)(),[s,u]=(0,n.useState)(l.IB.RPC),[p,f]=(0,n.useState)({isOpen:!1,msg:"",nonce:""});return(0,h.jsxs)(r.ZP,{container:!0,spacing:2,children:[(0,h.jsx)(r.ZP,{item:!0,xs:12,sm:6,children:(0,h.jsx)(a.Z,{fullWidth:!0,id:"rpc",label:t("setRPC.node"),variant:"outlined",size:"small",value:s,onChange:e=>{u(e.target.value)}})}),(0,h.jsxs)(r.ZP,{item:!0,xs:12,sm:5,children:[(0,h.jsx)(o.Z,{variant:"contained",onClick:()=>{(0,c.Z)(s).then((n=>{0==n?(e.action.changeRPCAction({available:!1,rpc:s,msg:`${t("setRPC.connectRPCFail")}`}),f({isOpen:!0,msg:`${t("setRPC.connectRPCFail")}`,nonce:parseInt(1e4*Math.random())})):(e.action.changeRPCAction({available:!0,rpc:s,msg:`${t("setRPC.connectRPCSuccess")} ${n} mm`}),f({isOpen:!0,msg:`${t("setRPC.connectRPCSuccess")} ${n} mm`,nonce:parseInt(1e4*Math.random())}))}))},children:t("setRPC.confirm")}),(0,h.jsx)(o.Z,{variant:"outlined",onClick:()=>{u("")},disabled:""==s,style:{marginLeft:5},children:t("setRPC.clear")})]}),(0,h.jsx)(r.ZP,{item:!0,xs:12,style:{display:p.isOpen?" ":"none"},children:(0,h.jsx)(d.Z,{msg:p.msg,nonce:p.nonce})},p.msg)]})}},97367:function(e,t,s){s.d(t,{e:function(){return a}});var n=s(25091);const r=s(31881).default;async function a(e,t){const s=n.X1;try{const e=await r.get(s,{params:{address:t}}).then((function(e){return e.data.result})).catch((function(e){}));JSON.parse(e);return e}catch(a){return 0}}},90302:function(e,t,s){s.d(t,{Z:function(){return r}});const n=s(15372);function r(e){const t=new n(new n.providers.HttpProvider(e)),s=Date.now();return t.eth.getChainId().then((e=>Date.now()-s)).catch((e=>!1))}},72925:function(e){e.exports=e=>{const t=e=>{let t=[];const s=e.length;let n=0,r=10,a=0;for(t[0]=e.slice(0,10),n+=10,r=64,a++;n<s;)t[a]=e.slice(n,n+64),n+=64,a++;return t},s=e=>{if(e.length<64)e="0".repeat(64-e.length)+e;if(e.length>64)e=e.slice(0,63);return e},n=(e,n)=>{for(let r=0;r<n.length;r++)switch(n[r].action){case"transferEth":if(n[r].address==e.from.toLowerCase())return{action:"transferEth"};break;case"recieveEth":if(n[r].address==e.to.toLowerCase())return{action:"recieveEth"};break;case"transferToken":if(n[r].address==e.from.toLowerCase()&&n[r].oppositeAddress==e.to.toLowerCase()&&e.input){if(t(e.input)[0]="0xa9059cbb")return{action:"transferToken"}}break;case"recieveToken":if(n[r].oppositeAddress==e.to.toLowerCase()&&e.input){const a=t(e.input);if(a[0]=a[1].toLowerCase()==s(n[r].address.slice(2)))return{action:"recieveToken"}}break;case"transferNFT":if(n[r].address==e.from.toLowerCase()&&n[r].oppositeAddress==e.to.toLowerCase()&&e.input){const a=t(e.input);if(a[0]=a[1].toLowerCase()==s(n[r].address.slice(2)))return{action:"transferNFT"}}break;case"recieveNFT":n[r].oppositeAddress,e.to.toLowerCase();break;case"interactToContract":if(n[r].address==e.from.toLowerCase()&&n[r].oppositeAddress==e.to.toLowerCase())return{action:"interactToContract"};break;case"beingInteracted":if(n[r].address==e.to.toLowerCase())return{action:"beingInteracted"};break;case"noSelected":if(n[r].address==e.from.toLowerCase()||n[r].address==e.to.toLowerCase())return{action:"noSelected"};if(e.input){if(t(e.input).map((e=>e.toLowerCase())).includes(s(n[r].address.slice(2))))return{action:"noSelected"}}break;default:return!1}};return{checkLastBlock:async t=>{const s=t.map((e=>e.toLowerCase()));let n=await e.eth.getBlock("latest",!0);if(n&&n.transactions)for(let r of n.transactions){let t=await e.eth.getTransaction(r);t.from&&s.includes(t.from.toLowerCase())}return 0},checkBlocks:async(t,s,n)=>{const r=n.map((e=>e.toLowerCase()));for(let a=t;a<s;a++){let t=await e.eth.getBlock(a);if(t&&t.transactions)for(let s of t.transactions){let t=await e.eth.getTransaction(s);r.includes(t.from.toLowerCase())}}},getActionsFromLastBlock:async(t,s)=>{const n=t.map((e=>e.toLowerCase())),r=s.map((e=>e.toLowerCase().slice(0,10)));let a=[],o=await e.eth.getBlock("latest",!0);if(o&&o.transactions)for(let e of o.transactions)e.to&&n.includes(e.to.toLowerCase())&&(0==r.length||r.includes(e.input.slice(0,10)))&&a.push(e);return a},getAddressActionsFromLastBlock:async t=>{let s=[],r=[];t.map((t=>{e.utils.isAddress(t.address)&&s.push(t.address),e.utils.isAddress(t.oppositeAddress)&&r.push(t.oppositeAddress)}));let a=[],o=await e.eth.getBlock("latest",!0);if(o&&o.transactions)for(let e of o.transactions)if(e.to&&(s.includes(e.to.toLowerCase())||s.includes(e.from.toLowerCase())||r.includes(e.to.toLowerCase())||r.includes(e.from.toLowerCase()))){const s=n(e,t);if(s){let t={...e,action:s.action};a.push(t)}}return a}}}},51197:function(e,t,s){s.r(t),s.d(t,{default:function(){return E}});var n=s(47313),r=s(9381),a=s(82937),o=s(73477),i=s(18104),c=s(68737),d=s(97319),l=s(35540),h=s(17201),u=s(82495),p=s(24240),f=s(25091),m=s(33497),g=s(12401),x=s(62111),w=s(25001),v=s(81962),C=s(36368),Z=s(10383),b=s(91294),k=s(74897),A=s(35192),j=(s(97367),s(96603),s(46417));function P(e){const{t:t}=(0,p.$)(),{chain:s,chainId:r}=((0,x.Z)(),f.IB),[i,c]=(0,n.useState)(0),[d,l]=(0,n.useState)([{txt:t("watchAddress.transferEth"),action:"transferEth"},{txt:t("watchAddress.recieveEth"),action:"recieveEth"},{txt:t("watchAddress.transferToken"),action:"transferToken"},{txt:t("watchAddress.recieveToken"),action:"recieveToken"},{txt:t("watchAddress.transferNFT"),action:"transferNFT"},{txt:t("watchAddress.recieveNFT"),action:"recieveNFT"},{txt:t("watchAddress.interactToContract"),action:"interactToContract"},{txt:t("watchAddress.beingInteracted"),action:"beingInteracted"}]),[h,u]=(0,n.useState)([]),[m,g]=(0,n.useState)(""),w=e=>{let t="";t=["transferToken","recieveToken","transferNFT","recieveNFT","interactToContract","beingInteracted"].includes(e)?"(*)":"",g(t)};return n.useEffect((()=>{(e=>{let s=[];s.push((0,j.jsx)(v.Z,{value:"noSelected",children:t("watchAddress.noSelected")},9999)),e.forEach(((e,t)=>{s.push((0,j.jsx)(v.Z,{value:e.action,children:e.txt},t))})),u(s)})(d),c(e.index)}),[e]),(0,j.jsxs)(a.ZP,{container:!0,spacing:1,children:[(0,j.jsx)(a.ZP,{item:!0,xs:3,children:(0,j.jsx)(C.Z,{fullWidth:!0,id:"A_"+i,label:t("watchAddress.address")+"( * )",variant:"outlined",size:"small",value:e.address,onChange:async t=>{e.addressParamChange(t)}})}),(0,j.jsx)(a.ZP,{item:!0,xs:3,children:(0,j.jsx)(C.Z,{fullWidth:!0,id:"O_"+i,label:t("watchAddress.oppositeAddress")+m,variant:"outlined",size:"small",value:e.oppositeAddress,onChange:async t=>{e.oppositeParamChange(t)}})}),(0,j.jsx)(a.ZP,{item:!0,xs:3,children:(0,j.jsxs)(Z.Z,{fullWidth:!0,children:[(0,j.jsx)(b.Z,{id:"action_label"+i,size:"small",children:t("watchAddress.action")}),(0,j.jsx)(k.Z,{id:"action_select_"+i,name:"S_"+i,label:t("watchAddress.action"),labelId:"action_label"+i,size:"small",value:e.action,onChange:t=>{w(t.target.value),e.actionSelectChange(t)},children:h})]})}),(0,j.jsx)(a.ZP,{item:!0,xs:1,children:(0,j.jsx)(o.Z,{id:i,variant:"outlined",startIcon:(0,j.jsx)(A.Z,{}),onClick:t=>{e.deleteParam(t)},children:t("watchAddress.delParam")})})]})}const y=s(15372),S=s(72925),T=(e,t,s)=>e.length>t+s?`${e.substring(0,t)}...${e.substring(e.length-s)}`:e;let L=!1;const I=s(81264);d.Z.get("mintedHash")&&d.Z.get("mintedHash"),d.Z.get("mintedContract")&&d.Z.get("mintedContract");let R=null,N=0,$=[];var E=function(){const{t:e,i18n:t}=(0,p.$)(),s=(0,x.Z)(),{CHAIN:d,CHAINID:v}=((0,r.I0)(),f.IB),[C,Z]=(0,n.useState)(f.IB.RPC),[b,k]=(0,n.useState)(new y(new y.providers.HttpProvider(C))),[A,E]=(0,n.useState)({isOpen:!1,msg:"",nonce:""}),[B,F]=(0,n.useState)([{address:"",oppositeAddress:"",action:"noSelected"}]),[O,H]=(0,n.useState)(!1),[M,z]=(0,n.useState)({type:"",msg:null}),[_,D]=(0,n.useState)(!1),[W,V]=(0,n.useState)(0);(0,n.useEffect)((()=>(L=!1,()=>{clearInterval(R)})),[]);let J=null;const X=()=>{q(),J=setInterval(q,3e3),R=J},q=async()=>{const{getAddressActionsFromLastBlock:e}=S(b),t=await b.eth.getBlockNumber();V(t),N<t&&(N=t,e($).then((e=>{e.length>0&&(e.map((e=>{ue(e)})),G())})))},G=()=>{new Audio(I).play()},[K,Q]=(0,n.useState)({}),U=()=>{const t=Y();var s,n;return s="watchAddr",n=!t,Q((e=>({...e,[s]:n}))),t?(te(),!0):(E({isOpen:!0,msg:`${e("watchAddress.pleaseSetTheWatchAddress")}`,nonce:parseInt(1e4*Math.random())}),!1)},Y=()=>{if(!b.utils.isAddress(B[0].address))return!1;for(let e=0;e<B.length;e++){if(""==B[e].address)return!1;if(B[e].address==B[e].oppositeAddress)return!1;if(!ee(B[e]))return!1}return!0},ee=e=>{switch(e.action){case"transferEth":case"recieveEth":case"noSelected":break;case"transferToken":case"recieveToken":case"transferNFT":case"recieveNFT":case"interactToContract":case"beingInteracted":if(""==e.oppositeAddress)return!1;break;default:return!0}return!0},te=()=>{let e=[];e=[...B];for(let t=0;t<B.length;t++)if("noSelected"==B[t].action){for(let s=e.length-1;s>=0;s--)B[t].address==e[s].address&&e.splice(s,1);e.push(B[t])}$=e},se=e=>{let t=e.target.name.slice(2),s=e.target.value;B[t].action=s,F(B),ie()},ne=e=>{let t=e.target.id.slice(2),s=e.target.value.trim().toLowerCase();B[t].address=s,F(B),ie()},re=e=>{let t=e.target.id.slice(2),s=e.target.value.trim().toLowerCase();B[t].oppositeAddress=s,F(B),ie()},[ae,oe]=(0,n.useState)([]),ie=()=>{let e=[];B.forEach(((t,s)=>{e.push((0,j.jsx)(a.ZP,{item:!0,xs:12,children:(0,j.jsx)(P,{index:s,address:B[s].address,oppositeAddress:B[s].oppositeAddress,action:B[s].action,addressParamChange:ne,oppositeParamChange:re,actionSelectChange:se,deleteParam:ce,web3:b})},s))})),oe(e)},ce=e=>{B.splice(e.target.id,1),F(B),ie()};(0,n.useEffect)((()=>{ie()}),[]);const[de,le]=(0,n.useState)([]),he=[{field:"id",headerName:e("watchAddress.id"),width:20},{field:"from",headerName:e("watchAddress.from"),width:200},{field:"to",headerName:e("watchAddress.to"),width:160},{field:"hash",headerName:e("watchAddress.hash"),width:300},{field:"action",headerName:e("watchAddress.actionHeader"),width:300}],ue=async t=>{try{le((e=>[...e,{id:e.length,from:T(t.from,4,6),to:T(t.from,4,6),hash:T(t.hash,4,16),action:t.action}]))}catch(s){}E({isOpen:!0,msg:`${e("watchAddress.foundNewTx")} ${t.hash}`,nonce:parseInt(1e4*Math.random())})},[pe,fe]=(0,n.useState)(!0);return(0,j.jsx)(m.Z,{title:e("watchAddress.title"),secondary:(0,j.jsxs)(a.ZP,{item:!0,xs:6,style:{textAlign:"right",verticalAlign:"middle",paddingTop:6,paddingBottom:6},children:[_&&(0,j.jsx)(w.Z,{}),(0,j.jsx)(o.Z,{variant:"contained",onClick:()=>{if(U()){if(L=!L,D(L),!L)return clearInterval(R),void(R=null);X()}},color:"secondary",sx:{borderRadius:10},children:e(_?"watchAddress.startRunning":"watchAddress.start")}),(0,j.jsx)(i.Z,{"aria-label":"settings",onClick:()=>{fe(!pe)},title:"click to open/close setting",children:(0,j.jsx)(u.Z,{})})]}),children:(0,j.jsxs)(a.ZP,{container:!0,spacing:g.dv,children:[(0,j.jsx)(a.ZP,{item:!0,xs:12,style:{display:pe?"":"none"},children:(0,j.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,j.jsx)(a.ZP,{item:!0,xs:12,children:(0,j.jsx)(a.ZP,{container:!0,spacing:2,children:(0,j.jsx)(a.ZP,{item:!0,xs:12,children:(0,j.jsx)(l.Z,{action:{changeRPCAction:e=>{e.available&&(k(new y(new y.providers.HttpProvider(e.rpc))),L&&(L=!1,D(L)))}},data:{rpc:C}})})})}),(0,j.jsx)(a.ZP,{item:!0,xs:12,children:(0,j.jsx)(a.ZP,{container:!0,spacing:2,children:(0,j.jsxs)(a.ZP,{item:!0,xs:12,children:[e("watchAddress.watchAddresses"),(0,j.jsx)(o.Z,{sx:{ml:2},variant:"outlined",onClick:()=>{B.push({address:"",oppositeAddress:"",action:"noSelected"}),F(B),ie()},children:e("watchAddress.add")})]})})}),ae]})}),(0,j.jsx)(a.ZP,{item:!0,xs:12,style:{display:A.isOpen?" ":"none"},children:(0,j.jsx)(h.Z,{msg:A.msg,nonce:A.nonce})},A.msg),(0,j.jsx)(a.ZP,{item:!0,xs:12,style:{marginTop:2,height:300,width:"100%"},children:(0,j.jsx)(c._,{rows:de,columns:he,style:{marginTop:10,borderRadius:10,border:"1px solid",borderColor:s.palette.secondary.main}})})]})})}},82495:function(e,t,s){var n=s(64836);t.Z=void 0;var r=n(s(45045)),a=s(46417),o=(0,r.default)((0,a.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");t.Z=o},35192:function(e,t,s){var n=s(25700),r=s(46417);t.Z=(0,n.Z)((0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")},62463:function(e,t,s){var n=s(63366),r=s(87462),a=s(47313),o=s(54929),i=s(86886),c=s(39028),d=s(13019),l=s(42379),h=s(53010),u=s(46417);const p=["component","direction","spacing","divider","children"];function f(e,t){const s=a.Children.toArray(e).filter(Boolean);return s.reduce(((e,n,r)=>(e.push(n),r<s.length-1&&e.push(a.cloneElement(t,{key:`separator-${r}`})),e)),[])}const m=(0,l.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>[t.root]})((e=>{let{ownerState:t,theme:s}=e,n=(0,r.Z)({display:"flex",flexDirection:"column"},(0,o.k9)({theme:s},(0,o.P$)({values:t.direction,breakpoints:s.breakpoints.values}),(e=>({flexDirection:e}))));if(t.spacing){const e=(0,i.hB)(s),r=Object.keys(s.breakpoints.values).reduce(((e,s)=>(("object"===typeof t.spacing&&null!=t.spacing[s]||"object"===typeof t.direction&&null!=t.direction[s])&&(e[s]=!0),e)),{}),a=(0,o.P$)({values:t.direction,base:r}),c=(0,o.P$)({values:t.spacing,base:r});"object"===typeof a&&Object.keys(a).forEach(((e,t,s)=>{if(!a[e]){const n=t>0?a[s[t-1]]:"column";a[e]=n}}));const l=(s,n)=>{return{"& > :not(style) + :not(style)":{margin:0,[`margin${r=n?a[n]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[r]}`]:(0,i.NA)(e,s)}};var r};n=(0,d.Z)(n,(0,o.k9)({theme:s},c,l))}return n=(0,o.dt)(s.breakpoints,n),n})),g=a.forwardRef((function(e,t){const s=(0,h.Z)({props:e,name:"MuiStack"}),a=(0,c.Z)(s),{component:o="div",direction:i="column",spacing:d=0,divider:l,children:g}=a,x=(0,n.Z)(a,p),w={direction:i,spacing:d};return(0,u.jsx)(m,(0,r.Z)({as:o,ownerState:w,ref:t},x,{children:l?f(g,l):g}))}));t.Z=g},81264:function(e,t,s){e.exports=s.p+"static/media/beep.560257e0df7fbcb146ef.mp3"}}]);