"use strict";(self.webpackChunkverybox_tools=self.webpackChunkverybox_tools||[]).push([[682],{25723:function(e,t,a){a.d(t,{Z:function(){return u}});var r=a(72791),n=a(81499),s=a(13811),i=a(29823),l=a(32232),c=a(74142),d=a(80184);function o(e){return(0,d.jsx)(l.Z,{...e,direction:"right"})}function u(e){const t=(0,c.Z)(),[a,l]=r.useState([]),[u,m]=r.useState(!1),[x,h]=r.useState(void 0),[p,P]=r.useState(void 0);r.useEffect((()=>{P((()=>o)),a.length&&!x?(h({...a[0]}),l((e=>e.slice(1))),m(!0)):a.length&&x&&u&&m(!1)}),[a,x,u]);const g=(e,t)=>{"clickaway"!==t&&m(!1)};return r.useEffect((()=>{l((t=>[...t,{message:e.msg,key:(new Date).getTime()}]))}),[]),(0,d.jsx)("div",{style:{background:t.palette.secondary.main},children:(0,d.jsx)(n.Z,{open:u,autoHideDuration:4e3,onClose:g,TransitionComponent:p,TransitionProps:{onExited:()=>{h(void 0)}},message:x?x.message:void 0,action:(0,d.jsx)(r.Fragment,{children:(0,d.jsx)(s.Z,{"aria-label":"close",color:"inherit",sx:{p:.5},onClick:g,children:(0,d.jsx)(i.Z,{})})})},x?x.key:void 0)})}},84852:function(e,t,a){a.d(t,{Z:function(){return v}});var r=a(72791),n=a(57879),s=a(7693),i=a(8771),l=a(45953),c=a(75017),d=a(17205),o=a(76863),u=a(72900),m=a(71770),x=a(96015),h=a(80184);function p(e){const[t,a]=(0,r.useState)(1),n=t=>{const r=t.target.value;a(r),e.data.setGroupAction(r)};return(0,h.jsxs)(x.Z,{component:"span",sx:{p:2,border:"0px dashed grey"},children:[(0,h.jsx)(d.Z,{onClick:n,value:"1",variant:"outlined",size:"small",sx:{px:0,mr:1,border:1==t?"1px dashed #2196f3":"1px dashed grey"},children:"1"}),(0,h.jsx)(d.Z,{onClick:n,value:"2",variant:"outlined",size:"small",sx:{px:0,mr:1,border:2==t?"1px dashed #2196f3":"1px dashed grey"},children:"2"}),(0,h.jsx)(d.Z,{onClick:n,value:"3",variant:"outlined",size:"small",sx:{px:0,mr:1,border:3==t?"1px dashed #2196f3":"1px dashed grey"},children:"3"}),(0,h.jsx)(d.Z,{onClick:n,value:"4",variant:"outlined",size:"small",sx:{px:0,mr:1,border:4==t?"1px dashed #2196f3":"1px dashed grey"},children:"4"}),(0,h.jsx)(d.Z,{onClick:n,value:"5",variant:"outlined",size:"small",sx:{px:0,mr:1,border:5==t?"1px dashed #2196f3":"1px dashed grey"},children:"5"})]})}const P=(0,o.ZP)("input")({display:"none"});let g=1;function v(e){const{t:t}=(0,n.$)(),a=e.provider;let o=s.Z.get("privateKey")&&s.Z.get("privateKey").length>0?s.Z.get("privateKey"):[{addrStr:"",pkStr:"",pkArr:[],addrArr:[]},{addrStr:"",pkStr:"",pkArr:[],addrArr:[]},{addrStr:"",pkStr:"",pkArr:[],addrArr:[]},{addrStr:"",pkStr:"",pkArr:[],addrArr:[]},{addrStr:"",pkStr:"",pkArr:[],addrArr:[]}];const[x,v]=(0,r.useState)(o[0]),Z=t=>{let r={};let n=t.match(/[ABCDEFabcdef0-9]{64}/g);r.pkArr=n||[];let i=[];n&&(i=n.map((e=>(a.eth.accounts.privateKeyToAccount(e).address,a.eth.accounts.privateKeyToAccount(e).address)))),r.addrArr=i,r.pkStr=n.join("\r\n"),r.addrStr=i.join("\r\n"),v(r),o[g-1]=r,s.Z.set("privateKey",[...o]),e.setPk(r)},[j,f]=r.useState(!0);return(0,r.useEffect)((()=>{var t;t=o[0],v(t),e.setPk(t)}),[]),(0,h.jsxs)(l.ZP,{container:!0,spacing:2,children:[(0,h.jsx)(l.ZP,{item:!0,xs:12,children:(0,h.jsxs)(l.ZP,{container:!0,spacing:1,children:[(0,h.jsx)(l.ZP,{item:!0,xs:9,children:(0,h.jsx)(c.Z,{style:{fontSize:8},fullWidth:!0,id:"pk",label:e.title+"("+x.pkArr.length+")",multiline:!0,rows:6,value:j?x.pkStr:x.addrStr,onChange:e=>{Z(e.target.value)},disabled:!0,error:e.error})}),(0,h.jsx)(l.ZP,{item:!0,xs:3,children:(0,h.jsxs)(l.ZP,{container:!0,spacing:2,children:[(0,h.jsx)(l.ZP,{item:!0,xs:12,children:(0,h.jsxs)("label",{htmlFor:"pKeyFile",children:[(0,h.jsx)(P,{accept:"text/*",id:"pKeyFile",multiple:!0,type:"file",onChange:()=>{let e=document.querySelector("#pKeyFile").files[0];if(e){var t=new FileReader;t.readAsText(e),t.onload=function(){Z(this.result),document.querySelector("#pKeyFile").value=""}}}}),(0,h.jsx)(d.Z,{variant:"outlined",component:"span",children:t("importPrivateKey.import")})]})}),(0,h.jsx)(l.ZP,{item:!0,xs:12,children:(0,h.jsx)(d.Z,{variant:"outlined",onClick:()=>{try{let t={addrStr:"",pkStr:"",pkArr:[],addrArr:[]};return v(t),o[g-1]=t,s.Z.set("privateKey",[...o]),void e.setPk(t)}catch(t){return void(0,i.Z)("unknow error")}},disabled:0==x.pkArr.length,children:t("importPrivateKey.clear")})}),(0,h.jsx)(l.ZP,{item:!0,xs:12,children:(0,h.jsx)(u.Z,{label:t("importPrivateKey.showPrivateKey"),control:(0,h.jsx)(m.Z,{checked:j,onChange:e=>{f(e.target.checked)},inputProps:{"aria-label":"controlled"},size:"small"})})})]})})]})}),(0,h.jsx)(p,{data:{setGroupAction:t=>{g=t;const a=o[g-1];v(a),e.setPk(a)}}})]})}},5951:function(e,t,a){a.d(t,{Z:function(){return m}});var r=a(72791),n=a(45953),s=a(75017),i=a(17205),l=a(57879),c=a(75377),d=a(25723),o=a(25091),u=a(80184);function m(e){const{t:t}=(0,l.$)(),[a,m]=(0,r.useState)(o.IB.RPC),[x,h]=(0,r.useState)({isOpen:!1,msg:""});return(0,u.jsxs)(n.ZP,{container:!0,spacing:2,children:[(0,u.jsx)(n.ZP,{item:!0,xs:12,sm:6,children:(0,u.jsx)(s.Z,{fullWidth:!0,id:"rpc",label:t("setRPC.node"),variant:"outlined",size:"small",value:a,onChange:e=>{m(e.target.value)}})}),(0,u.jsxs)(n.ZP,{item:!0,xs:12,sm:5,children:[(0,u.jsx)(i.Z,{variant:"contained",onClick:()=>{(0,c.Z)(a).then((r=>{0==r?(e.action.changeRPCAction({available:!1,rpc:a,msg:`${t("setRPC.connectRPCFail")}`}),h({isOpen:!0,msg:`${t("setRPC.connectRPCFail")}`})):(e.action.changeRPCAction({available:!0,rpc:a,msg:`${t("setRPC.connectRPCSuccess")} ${r} mm`}),h({isOpen:!0,msg:`${t("setRPC.connectRPCSuccess")} ${r} mm`}))}))},children:t("setRPC.confirm")}),(0,u.jsx)(i.Z,{variant:"outlined",onClick:()=>{m("")},disabled:""==a,style:{marginLeft:5},children:t("setRPC.clear")})]}),(0,u.jsx)(n.ZP,{item:!0,xs:12,style:{display:x.isOpen?" ":"none"},children:(0,u.jsx)(d.Z,{msg:x.msg})},x.msg)]})}},32193:function(e,t,a){a.d(t,{n:function(){return c}});var r=a(28776),n=a(19778).Buffer;const{FeeMarketEIP1559Transaction:s}=a(20258),{Chain:i,Hardfork:l}=(a(41941).default,a(41941));function c(e,t){const a=(0,r.ef)(t);async function i(t){let{from:a,to:n,value:s,gasLimit:i,maxPriorityFeePerGas:l,maxFeePerGas:c,data:d,nonce:o}=t;try{return await e.eth.estimateGas({from:a,to:n,value:e.utils.toHex(e.utils.toWei(s.toString())),gasLimit:e.utils.numberToHex(i),maxPriorityFeePerGas:e.utils.toHex(l*10**9),maxFeePerGas:e.utils.toHex(c*10**9),data:d})}catch(u){return(0,r.ZP)(u)}}return{_sendTx:async function(t){let{from:l,to:c,value:d,gasLimit:o,maxPriorityFeePerGas:u,maxFeePerGas:m,data:x,nonce:h,pk:p}=t;const P=await i({from:l,to:c,value:d,gasLimit:o,maxPriorityFeePerGas:u,maxFeePerGas:m,data:x,nonce:h});if(P.error)return(0,r.ZP)(P);if("number"==typeof P&&P<2e6){const t=await async function(t){let{from:a,to:r,value:n,gasLimit:s,maxPriorityFeePerGas:i,maxFeePerGas:l,data:c,nonce:d}=t;return{from:a,to:r,value:e.utils.toHex(n*10**18),gasLimit:e.utils.numberToHex(s),maxPriorityFeePerGas:e.utils.toHex(i*10**9),maxFeePerGas:e.utils.toHex(l*10**9),data:c,nonce:e.utils.toHex(d),type:"0x2"}}({from:l,to:c,value:d,gasLimit:o,maxPriorityFeePerGas:u,maxFeePerGas:m,data:x,nonce:h}),{response:i,error:P}=await async function(e,t){const r=n.from(t,"hex"),i=s.fromTxData(e,{common:a}).sign(r);return{response:"0x"+i.serialize().toString("hex")}}(t,p);if(P)return{error:P};const g=await async function(t){let{signedTransaction:a}=t;try{return await e.eth.sendSignedTransaction(a)}catch(P){return(0,r.ZP)(P)}}({signedTransaction:i});return g}return{error:"Unknow error found."}},_estimateGas:i}}},75377:function(e,t,a){a.d(t,{Z:function(){return n}});const r=a(55813);function n(e){const t=new r(new r.providers.HttpProvider(e)),a=Date.now();return t.eth.getChainId().then((e=>Date.now()-a)).catch((e=>!1))}},38682:function(e,t,a){a.r(t),a.d(t,{default:function(){return w}});var r=a(72791),n=a(57879),s=a(45953),i=a(75017),l=a(17205),c=a(71770),d=a(94162),o=a(20041),u=a(36571),m=a(49106),x=a(66648),h=a(25723),p=a(5951),P=a(84852),g=a(81898),v=a(40508),Z=a(65145),j=a(35702),f=a(5397),y=a(74142),C=a(80184);function F(e){const{t:t}=(0,n.$)();(0,y.Z)();return r.useEffect((()=>{}),[e]),(0,C.jsxs)(s.ZP,{container:!0,spacing:1,children:[(0,C.jsx)(s.ZP,{item:!0,xs:3,children:(0,C.jsxs)(g.Z,{fullWidth:!0,children:[(0,C.jsx)(v.Z,{id:"param_label"+e.index,size:"small",children:t("mintNFT.paramType")}),(0,C.jsxs)(Z.Z,{id:"param_select_"+e.index,name:"S_"+e.index,label:t("mintNFT.paramType"),labelId:"param_label"+e.index,size:"small",value:e.type,onChange:e.paramSelectChange,children:[(0,C.jsx)(j.Z,{value:"address",children:"address"}),(0,C.jsx)(j.Z,{value:"uint8",children:"uint8"}),(0,C.jsx)(j.Z,{value:"uint256",children:"uint256"}),(0,C.jsx)(j.Z,{value:"bool",children:"bool"}),(0,C.jsx)(j.Z,{value:"string",children:"string"})]})]})}),(0,C.jsx)(s.ZP,{item:!0,xs:6,children:(0,C.jsx)(i.Z,{fullWidth:!0,id:"T_"+e.index,label:t("mintNFT.paramValue"),variant:"outlined",size:"small",value:e.value,onChange:e.paramChange})}),(0,C.jsx)(s.ZP,{item:!0,xs:1,children:(0,C.jsx)(l.Z,{id:e.index,variant:"outlined",startIcon:(0,C.jsx)(f.Z,{}),onClick:e.deleteParam,children:t("mintNFT.delParam")})})]})}var k=a(25091),b=a(32193),S=a(23735);const A=a(55813);let T=!1;var w=function(){const{t:e}=(0,n.$)(),t=(0,y.Z)(),{CHAIN:a,CHAINID:g}=k.IB,[v,Z]=(0,r.useState)(k.IB.RPC),[j,f]=(0,r.useState)(new A(new A.providers.HttpProvider(v))),[w,G]=(0,r.useState)("mint"),[N,K]=(0,r.useState)([{type:"uint256",value:1}]),[z,H]=(0,r.useState)({addrStr:"",pkStr:"",pkArr:[],addrArr:[]}),[I,R]=(0,r.useState)({isOpen:!1,msg:""}),[_,D]=(0,r.useState)({contractAddress:"",maxPriorityFeePerGas:1,maxFeePerGas:10,ethValue:0}),E=e=>{L(e.target.id,e.target.value)},L=(e,t)=>{const a={[e]:t};D((e=>({...e,...a})))},W=e=>{let t=e.target.name.slice(2),a=e.target.value;N[t].type=a,K(N),U()},$=e=>{let t=e.target.id.slice(2),a=e.target.value;N[t].value=a,K(N),U()},O=()=>{let e=setInterval((async()=>{const t=await async function(e){const{_estimateGas:t}=(0,b.n)(j,a),r=await B().then((e=>e)),n=j.eth.accounts.privateKeyToAccount(e).address;let s=await j.eth.getTransactionCount(n);return await t({from:n,to:_.contractAddress,value:_.ethValue,gasLimit:k.Sw,maxPriorityFeePerGas:_.maxPriorityFeePerGas,maxFeePerGas:_.maxFeePerGas,data:r,nonce:s})}(z.pkArr[0]);if(t.error)return clearInterval(e),void R({isOpen:!0,msg:t.error});"number"==typeof t&&t<k.Sw&&(clearInterval(e),z.pkArr.forEach(((e,t)=>{!async function(e,t){const{_sendTx:r}=(0,b.n)(j,a),n=await B().then((e=>e)),s=j.eth.accounts.privateKeyToAccount(e).address;let i=await j.eth.getTransactionCount(s);const l=await r({from:s,to:_.contractAddress,value:_.ethValue,gasLimit:k.Sw,maxPriorityFeePerGas:_.maxPriorityFeePerGas,maxFeePerGas:_.maxFeePerGas,data:n,nonce:i,pk:e});let c="";c=Object.keys(l).includes("error")?"\xd7 "+l.error:"\u2713 "+l.transactionHash;V({index:t,timesChange:0,status:c})}(e,t),V({index:t,timesChange:1,status:"pending..."})})))}),1e3)},V=async e=>{let{index:t,timesChange:a,status:r}=e;try{X((e=>{let n=[...e];for(let s=0;s<n.length;s++)s==t&&(n[s]={id:n[s].id,address:n[s].address,balance:n[s].balance,times:n[s].times+a,status:r});return n}))}catch(n){}R({isOpen:!0,msg:r})};async function B(){let e="",t=[],a=[];N.forEach((r=>{e=""==e?e+r.type:e+","+r.type,t.push(r.type),a.push(r.value)}));return j.eth.abi.encodeFunctionSignature(w+"("+e+")")+j.eth.abi.encodeParameters(t,a).slice(2)}const[q,M]=(0,r.useState)([]),U=()=>{let e=[];N.forEach(((t,a)=>{e.push((0,C.jsx)(s.ZP,{item:!0,xs:12,children:(0,C.jsx)(F,{index:a,type:N[a].type,value:N[a].value,paramSelectChange:W,paramChange:$,deleteParam:J})},a))})),M(e)},J=e=>{N.splice(e.target.id,1),K(N),U()};(0,r.useEffect)((()=>{U()}),[]);const[Q,X]=(0,r.useState)([{id:1,address:"",balance:"",times:"",status:"",action:""}]),Y=[{field:"id",hide:!0},{field:"address",headerName:e("mintNFT.address"),width:150},{field:"balance",headerName:e("mintNFT.amount"),width:80},{field:"times",headerName:e("mintNFT.requestTimes"),width:160},{field:"status",headerName:e("mintNFT.status"),width:400}],ee=async e=>{let t=await Promise.all(e.map((async(e,t)=>{const a=j.eth.accounts.privateKeyToAccount(e).address,r=await j.eth.getBalance(a);return{id:t+1,address:a,balance:j.utils.fromWei(r,"ether"),times:0,status:"--"}})));X(t)},[te,ae]=(0,r.useState)(new Date),[re,ne]=(0,r.useState)(!1),[se,ie]=(0,r.useState)(0),[le,ce]=(0,r.useState)({}),de=(e,t)=>{ce((a=>({...a,[e]:t})))},oe=()=>{const e=ue(_.contractAddress);de("contractAddress",!e);const t=isFinite(_.ethValue);de("ethValue",!t);const a=me();return de("privateKey",!a),!!(e&&t&&a)},ue=e=>""!=e&&j.utils.isAddress(e),me=()=>z.pkArr.length>0;return(0,C.jsx)(S.Z,{title:e("mintNFT.title"),children:(0,C.jsxs)(s.ZP,{container:!0,spacing:2,children:[(0,C.jsx)(s.ZP,{item:!0,xs:12,children:(0,C.jsx)(s.ZP,{container:!0,spacing:2,children:(0,C.jsx)(s.ZP,{item:!0,xs:12,children:(0,C.jsx)(p.Z,{action:{changeRPCAction:e=>{e.available&&f(new A(new A.providers.HttpProvider(e.rpc)))}},data:{rpc:v}})})})}),(0,C.jsx)(s.ZP,{item:!0,xs:12,children:(0,C.jsxs)(s.ZP,{container:!0,spacing:2,children:[(0,C.jsx)(s.ZP,{item:!0,xs:9,sm:6,children:(0,C.jsx)(i.Z,{error:le.contractAddress,fullWidth:!0,id:"contractAddress",label:e("mintNFT.contractAddress"),variant:"outlined",size:"small",value:_.contractAddress,onChange:E})}),(0,C.jsx)(s.ZP,{item:!0,xs:1,children:(0,C.jsx)(l.Z,{variant:"text",onClick:()=>{L("contractAddress","")},children:e("mintNFT.contractAddressClear")})})]})}),(0,C.jsx)(s.ZP,{item:!0,xs:12,children:(0,C.jsxs)(s.ZP,{container:!0,spacing:2,children:[(0,C.jsx)(s.ZP,{item:!0,xs:12,sm:3,children:(0,C.jsx)(i.Z,{fullWidth:!0,id:"maxPriorityFeePerGas",label:e("mintNFT.maxpriorityfeepergas"),variant:"outlined",size:"small",type:"number",value:_.maxPriorityFeePerGas,onChange:E})}),(0,C.jsx)(s.ZP,{item:!0,xs:12,sm:3,children:(0,C.jsx)(i.Z,{fullWidth:!0,id:"maxFeePerGas",label:e("mintNFT.maxFeePerGas"),variant:"outlined",size:"small",type:"number",value:_.maxFeePerGas,onChange:E})}),(0,C.jsx)(s.ZP,{item:!0,xs:12,sm:3,children:(0,C.jsx)(i.Z,{error:le.ethValue,fullWidth:!0,id:"ethValue",label:e("mintNFT.ethAmout"),variant:"outlined",size:"small",value:_.ethValue,onChange:E})})]})}),(0,C.jsx)(s.ZP,{item:!0,xs:12,children:(0,C.jsx)(s.ZP,{container:!0,spacing:2,children:(0,C.jsx)(s.ZP,{item:!0,xs:12,sm:3,children:(0,C.jsx)(i.Z,{id:"mint_method",label:e("mintNFT.mintMethod"),variant:"outlined",size:"small",value:w,onChange:e=>{G(e.target.value)}})})})}),(0,C.jsx)(s.ZP,{item:!0,xs:12,children:(0,C.jsx)(s.ZP,{container:!0,spacing:2,children:(0,C.jsxs)(s.ZP,{item:!0,xs:12,children:[e("mintNFT.method"),(0,C.jsx)(l.Z,{variant:"outlined",onClick:()=>{N.push({type:"",value:""}),K(N),U()},children:e("mintNFT.addParam")})]})})}),q,(0,C.jsx)(s.ZP,{item:!0,xs:12,children:(0,C.jsx)(P.Z,{setPk:e=>{H(e),ee(e.pkArr)},provider:j,chain:a,title:e("mintNFT.importPrivateKeyTitle"),error:le.privateKey})}),(0,C.jsx)(s.ZP,{item:!0,xs:12,style:{display:I.isOpen?" ":"none"},children:(0,C.jsx)(h.Z,{msg:I.msg})},I.msg),(0,C.jsx)(s.ZP,{item:!0,xs:12,children:(0,C.jsx)(s.ZP,{container:!0,spacing:2,children:(0,C.jsxs)(s.ZP,{item:!0,xs:12,children:[e("mintNFT.openTimer"),(0,C.jsx)(c.Z,{checked:re,onChange:e=>{ne(e.target.checked),T=e.target.checked}})]})})}),(0,C.jsx)(s.ZP,{item:!0,xs:12,sx:{fontsize:16,display:re?"flex":"none",mt:1},children:(0,C.jsxs)(s.ZP,{container:!0,spacing:2,sx:{justifyContent:"flex-start",alignItems:"center",border:"solid 1px",borderColor:t.palette.grey[500],borderRadius:2,pb:"16px",ml:0,mr:0},children:[(0,C.jsxs)(s.ZP,{item:!0,sx:{minWidth:120,display:"flex"},children:[e("mintNFT.leftTime"),(0,C.jsx)("span",{style:{color:t.palette.secondary.main,paddingLeft:5},children:se})]}),(0,C.jsx)(s.ZP,{item:!0,children:(0,C.jsx)(u._,{dateAdapter:o.H,children:(0,C.jsx)(d.Z,{spacing:3,children:(0,C.jsx)(m.x,{size:"small",hideTabs:!0,value:te,onChange:e=>{ae(e)},minDate:new Date("2022-05-1"),renderInput:e=>(0,C.jsx)(i.Z,{...e})})})})})]})}),(0,C.jsx)(s.ZP,{item:!0,xs:12,children:(0,C.jsx)(s.ZP,{container:!0,spacing:2,children:(0,C.jsx)(s.ZP,{item:!0,xs:12,children:(0,C.jsx)(l.Z,{variant:"contained",onClick:async()=>{if(oe())if(T){let e=setInterval((()=>{let t=(new Date(te).getTime()-Date.now())/1e3;t=t>0?t:0,ie(t),0!=T?0==t&&(clearInterval(e),O()):clearInterval(e)}),100)}else O()},children:e("mintNFT.execute")})})})}),(0,C.jsx)(s.ZP,{item:!0,xs:12,style:{height:300,width:"100%"},children:(0,C.jsx)(x._,{rows:Q,columns:Y})})]})})}}}]);
//# sourceMappingURL=682.03c2d8e4.chunk.js.map