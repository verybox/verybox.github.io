"use strict";(self.webpackChunkverybox_tools=self.webpackChunkverybox_tools||[]).push([[544],{25723:function(e,t,r){r.d(t,{Z:function(){return u}});var n=r(72791),s=r(81499),a=r(13811),i=r(29823),o=r(32232),l=r(74142),c=r(80184);function d(e){return(0,c.jsx)(o.Z,{...e,direction:"right"})}function u(e){const t=(0,l.Z)(),[r,o]=n.useState([]),[u,x]=n.useState(!1),[m,h]=n.useState(void 0),[p,f]=n.useState(void 0);n.useEffect((()=>{f((()=>d)),r.length&&!m?(h({...r[0]}),o((e=>e.slice(1))),x(!0)):r.length&&m&&u&&x(!1)}),[r,m,u]);const g=(e,t)=>{"clickaway"!==t&&x(!1)};return n.useEffect((()=>{o((t=>[...t,{message:e.msg,key:(new Date).getTime()}]))}),[]),(0,c.jsx)("div",{style:{background:t.palette.secondary.main},children:(0,c.jsx)(s.Z,{open:u,autoHideDuration:4e3,onClose:g,TransitionComponent:p,TransitionProps:{onExited:()=>{h(void 0)}},message:m?m.message:void 0,action:(0,c.jsx)(n.Fragment,{children:(0,c.jsx)(a.Z,{"aria-label":"close",color:"inherit",sx:{p:.5},onClick:g,children:(0,c.jsx)(i.Z,{})})})},m?m.key:void 0)})}},84852:function(e,t,r){r.d(t,{Z:function(){return P}});var n=r(72791),s=r(57879),a=r(7693),i=r(8771),o=r(45953),l=r(75017),c=r(17205),d=r(76863),u=r(72900),x=r(71770),m=r(96015),h=r(80184);function p(e){const[t,r]=(0,n.useState)(1),s=t=>{const n=t.target.value;r(n),e.data.setGroupAction(n)};return(0,h.jsxs)(m.Z,{component:"span",sx:{p:2,border:"0px dashed grey"},children:[(0,h.jsx)(c.Z,{onClick:s,value:"1",variant:"outlined",size:"small",sx:{px:0,mr:1,border:1==t?"1px dashed #2196f3":"1px dashed grey"},children:"1"}),(0,h.jsx)(c.Z,{onClick:s,value:"2",variant:"outlined",size:"small",sx:{px:0,mr:1,border:2==t?"1px dashed #2196f3":"1px dashed grey"},children:"2"}),(0,h.jsx)(c.Z,{onClick:s,value:"3",variant:"outlined",size:"small",sx:{px:0,mr:1,border:3==t?"1px dashed #2196f3":"1px dashed grey"},children:"3"}),(0,h.jsx)(c.Z,{onClick:s,value:"4",variant:"outlined",size:"small",sx:{px:0,mr:1,border:4==t?"1px dashed #2196f3":"1px dashed grey"},children:"4"}),(0,h.jsx)(c.Z,{onClick:s,value:"5",variant:"outlined",size:"small",sx:{px:0,mr:1,border:5==t?"1px dashed #2196f3":"1px dashed grey"},children:"5"})]})}const f=(0,d.ZP)("input")({display:"none"});let g=1;function P(e){const{t:t}=(0,s.$)(),r=e.provider;let d=a.Z.get("privateKey")&&a.Z.get("privateKey").length>0?a.Z.get("privateKey"):[{addrStr:"",pkStr:"",pkArr:[],addrArr:[]},{addrStr:"",pkStr:"",pkArr:[],addrArr:[]},{addrStr:"",pkStr:"",pkArr:[],addrArr:[]},{addrStr:"",pkStr:"",pkArr:[],addrArr:[]},{addrStr:"",pkStr:"",pkArr:[],addrArr:[]}];const[m,P]=(0,n.useState)(d[0]),v=t=>{let n={};let s=t.match(/[ABCDEFabcdef0-9]{64}/g);n.pkArr=s||[];let i=[];s&&(i=s.map((e=>(r.eth.accounts.privateKeyToAccount(e).address,r.eth.accounts.privateKeyToAccount(e).address)))),n.addrArr=i,n.pkStr=s.join("\r\n"),n.addrStr=i.join("\r\n"),P(n),d[g-1]=n,a.Z.set("privateKey",[...d]),e.setPk(n)},[y,Z]=n.useState(!0);return(0,n.useEffect)((()=>{var t;t=d[0],P(t),e.setPk(t)}),[]),(0,h.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,h.jsx)(o.ZP,{item:!0,xs:12,children:(0,h.jsxs)(o.ZP,{container:!0,spacing:1,children:[(0,h.jsx)(o.ZP,{item:!0,xs:9,children:(0,h.jsx)(l.Z,{style:{fontSize:8},fullWidth:!0,id:"pk",label:e.title+"("+m.pkArr.length+")",multiline:!0,rows:6,value:y?m.pkStr:m.addrStr,onChange:e=>{v(e.target.value)},disabled:!0,error:e.error})}),(0,h.jsx)(o.ZP,{item:!0,xs:3,children:(0,h.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,h.jsx)(o.ZP,{item:!0,xs:12,children:(0,h.jsxs)("label",{htmlFor:"pKeyFile",children:[(0,h.jsx)(f,{accept:"text/*",id:"pKeyFile",multiple:!0,type:"file",onChange:()=>{let e=document.querySelector("#pKeyFile").files[0];if(e){var t=new FileReader;t.readAsText(e),t.onload=function(){v(this.result),document.querySelector("#pKeyFile").value=""}}}}),(0,h.jsx)(c.Z,{variant:"outlined",component:"span",children:t("importPrivateKey.import")})]})}),(0,h.jsx)(o.ZP,{item:!0,xs:12,children:(0,h.jsx)(c.Z,{variant:"outlined",onClick:()=>{try{let t={addrStr:"",pkStr:"",pkArr:[],addrArr:[]};return P(t),d[g-1]=t,a.Z.set("privateKey",[...d]),void e.setPk(t)}catch(t){return void(0,i.Z)("unknow error")}},disabled:0==m.pkArr.length,children:t("importPrivateKey.clear")})}),(0,h.jsx)(o.ZP,{item:!0,xs:12,children:(0,h.jsx)(u.Z,{label:t("importPrivateKey.showPrivateKey"),control:(0,h.jsx)(x.Z,{checked:y,onChange:e=>{Z(e.target.checked)},inputProps:{"aria-label":"controlled"},size:"small"})})})]})})]})}),(0,h.jsx)(p,{data:{setGroupAction:t=>{g=t;const r=d[g-1];P(r),e.setPk(r)}}})]})}},5951:function(e,t,r){r.d(t,{Z:function(){return x}});var n=r(72791),s=r(45953),a=r(75017),i=r(17205),o=r(57879),l=r(75377),c=r(25723),d=r(25091),u=r(80184);function x(e){const{t:t}=(0,o.$)(),[r,x]=(0,n.useState)(d.IB.RPC),[m,h]=(0,n.useState)({isOpen:!1,msg:""});return(0,u.jsxs)(s.ZP,{container:!0,spacing:2,children:[(0,u.jsx)(s.ZP,{item:!0,xs:12,sm:6,children:(0,u.jsx)(a.Z,{fullWidth:!0,id:"rpc",label:t("setRPC.node"),variant:"outlined",size:"small",value:r,onChange:e=>{x(e.target.value)}})}),(0,u.jsxs)(s.ZP,{item:!0,xs:12,sm:5,children:[(0,u.jsx)(i.Z,{variant:"contained",onClick:()=>{(0,l.Z)(r).then((n=>{0==n?(e.action.changeRPCAction({available:!1,rpc:r,msg:`${t("setRPC.connectRPCFail")}`}),h({isOpen:!0,msg:`${t("setRPC.connectRPCFail")}`})):(e.action.changeRPCAction({available:!0,rpc:r,msg:`${t("setRPC.connectRPCSuccess")} ${n} mm`}),h({isOpen:!0,msg:`${t("setRPC.connectRPCSuccess")} ${n} mm`}))}))},children:t("setRPC.confirm")}),(0,u.jsx)(i.Z,{variant:"outlined",onClick:()=>{x("")},disabled:""==r,style:{marginLeft:5},children:t("setRPC.clear")})]}),(0,u.jsx)(s.ZP,{item:!0,xs:12,style:{display:m.isOpen?" ":"none"},children:(0,u.jsx)(c.Z,{msg:m.msg})},m.msg)]})}},32193:function(e,t,r){r.d(t,{n:function(){return l}});var n=r(28776),s=r(19778).Buffer;const{FeeMarketEIP1559Transaction:a}=r(20258),{Chain:i,Hardfork:o}=(r(41941).default,r(41941));function l(e,t){const r=(0,n.ef)(t);async function i(t){let{from:r,to:s,value:a,gasLimit:i,maxPriorityFeePerGas:o,maxFeePerGas:l,data:c,nonce:d}=t;try{return await e.eth.estimateGas({from:r,to:s,value:e.utils.toHex(e.utils.toWei(a.toString())),gasLimit:e.utils.numberToHex(i),maxPriorityFeePerGas:e.utils.toHex(o*10**9),maxFeePerGas:e.utils.toHex(l*10**9),data:c})}catch(u){return(0,n.ZP)(u)}}return{_sendTx:async function(t){let{from:o,to:l,value:c,gasLimit:d,maxPriorityFeePerGas:u,maxFeePerGas:x,data:m,nonce:h,pk:p}=t;const f=await i({from:o,to:l,value:c,gasLimit:d,maxPriorityFeePerGas:u,maxFeePerGas:x,data:m,nonce:h});if(f.error)return(0,n.ZP)(f);if("number"==typeof f&&f<2e6){const t=await async function(t){let{from:r,to:n,value:s,gasLimit:a,maxPriorityFeePerGas:i,maxFeePerGas:o,data:l,nonce:c}=t;return{from:r,to:n,value:e.utils.toHex(s*10**18),gasLimit:e.utils.numberToHex(a),maxPriorityFeePerGas:e.utils.toHex(i*10**9),maxFeePerGas:e.utils.toHex(o*10**9),data:l,nonce:e.utils.toHex(c),type:"0x2"}}({from:o,to:l,value:c,gasLimit:d,maxPriorityFeePerGas:u,maxFeePerGas:x,data:m,nonce:h}),{response:i,error:f}=await async function(e,t){const n=s.from(t,"hex"),i=a.fromTxData(e,{common:r}).sign(n);return{response:"0x"+i.serialize().toString("hex")}}(t,p);if(f)return{error:f};const g=await async function(t){let{signedTransaction:r}=t;try{return await e.eth.sendSignedTransaction(r)}catch(f){return(0,n.ZP)(f)}}({signedTransaction:i});return g}return{error:"Unknow error found."}},_estimateGas:i}}},75377:function(e,t,r){r.d(t,{Z:function(){return s}});const n=r(55813);function s(e){const t=new n(new n.providers.HttpProvider(e)),r=Date.now();return t.eth.getChainId().then((e=>Date.now()-r)).catch((e=>!1))}},97544:function(e,t,r){r.r(t),r.d(t,{default:function(){return j}});var n=r(72791),s=r(57879),a=r(45953),i=r(75017),o=r(17205),l=r(66648),c=r(84852),d=r(25723),u=r(96580),x=r(96015),m=r(80184);function h(){return(0,m.jsx)(x.Z,{sx:{display:"flex"},children:(0,m.jsx)(u.Z,{})})}var p=r(32193),f=r(5951),g=r(25091),P=r(19656);var v=r(23735);const y=r(55813);let Z=!1;var j=function(){const{t:e}=(0,s.$)(),{CHAIN:t,CHAINID:r}=g.IB,[u,x]=(0,n.useState)(g.IB.RPC),[j,k]=(0,n.useState)(new y(new y.providers.HttpProvider(u))),[S,C]=(0,n.useState)(""),[A,F]=(0,n.useState)(1),[w,T]=(0,n.useState)(2),[b,N]=(0,n.useState)(""),[G,K]=(0,n.useState)({addrStr:"",pkStr:"",pkArr:[],addrArr:[]}),[R,H]=(0,n.useState)(0),[I,z]=(0,n.useState)(0),[L,O]=(0,n.useState)({isOpen:!1,msg:""}),[D,$]=(0,n.useState)(""),_={inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"};async function E(e,r,n,s,a,i){const{_sendTx:o}=(0,p.n)(j,t),l=B(_,[r,b,n]),c=await o({from:j.eth.accounts.privateKeyToAccount(e).address,to:S,value:0,gasLimit:g.Sw,maxPriorityFeePerGas:A,maxFeePerGas:w,data:l,nonce:a,pk:e}),d=c.error?c.error:c.transactionHash;c.error&&(c.error,parseInt(1e4*Math.random()));O({isOpen:!0,msg:d}),q((e=>[...e,{id:e.length>0?e.length+1:1,fromAddress:r,toAddress:b,tokenId:n,status:d}]))}const W=async(e,t,r)=>{const n=await async function(e,t){const r={apiKey:g.sk.F,network:P.N[g.sk.s],maxRetries:10},n=new P.c(r),s=await n.nft.getNftsForOwner(t);let a=[];for(const i of s.ownedNfts)i.contract.address.toLowerCase()==e.toLowerCase()&&a.push(i.tokenId);return a}(t,r);return n},B=(e,t)=>j.eth.abi.encodeFunctionCall(e,t);async function M(e){let{from:t,to:r,gas:n,value:s,abi:a,parameters:i}=e;const o=B(a,i);return await j.eth.estimateGas({to:r,from:"0x0000000000000000000000000000000000000000",data:o}).then((e=>e)).catch((function(e){return e.message.indexOf("insufficient funds for gas * price + value")>0?{error:"INSUFFICIENT_FUNDS"}:{error:e.message}}))}const[U,q]=(0,n.useState)([]),J=[{field:"id",hide:!1,headerAlign:"center"},{field:"fromAddress",headerName:e("collectNFT.fromAddress"),width:160},{field:"toAddress",headerName:e("collectNFT.toAddress"),width:160},{field:"tokenId",headerName:e("collectNFT.tokenId"),width:80},{field:"status",headerName:e("collectNFT.status"),width:200}],[Q,V]=(0,n.useState)({}),X=(e,t)=>{V((r=>({...r,[e]:t})))},Y=()=>{const e=ee(S);X("contractAddress",!e);const t=ee(b);X("collectionTo",!t);const r=te();return X("privateKey",!r),!!(e&&r&&t)},ee=e=>""!=e&&j.utils.isAddress(e),te=()=>G.pkArr.length>0;return(0,m.jsx)(v.Z,{title:e("collectNFT.title"),children:(0,m.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,m.jsx)(a.ZP,{item:!0,xs:12,children:(0,m.jsx)(a.ZP,{container:!0,spacing:2,children:(0,m.jsx)(a.ZP,{item:!0,xs:12,children:(0,m.jsx)(a.ZP,{container:!0,spacing:2,children:(0,m.jsx)(a.ZP,{item:!0,xs:12,children:(0,m.jsx)(f.Z,{action:{changeRPCAction:e=>{e.available&&k(new y(new y.providers.HttpProvider(e.rpc)))}},data:{rpc:u}})})})})})}),(0,m.jsx)(a.ZP,{item:!0,xs:12,children:(0,m.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,m.jsx)(a.ZP,{item:!0,xs:9,sm:6,children:(0,m.jsx)(i.Z,{error:Q.contractAddress,fullWidth:!0,id:"contract_address",label:e("collectNFT.contractAddress"),variant:"outlined",size:"small",value:S,onChange:e=>{C(e.target.value)}})}),(0,m.jsx)(a.ZP,{item:!0,xs:1,children:(0,m.jsx)(o.Z,{variant:"text",onClick:e=>{C("")},children:e("collectNFT.contractAddressClear")})})]})}),(0,m.jsx)(a.ZP,{item:!0,xs:12,children:(0,m.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,m.jsx)(a.ZP,{item:!0,xs:12,sm:3,children:(0,m.jsx)(i.Z,{fullWidth:!0,id:"maxpriorityfeepergas",label:e("collectNFT.maxpriorityfeepergas"),variant:"outlined",size:"small",type:"number",value:A,onChange:e=>{F(e.target.value)}})}),(0,m.jsx)(a.ZP,{item:!0,xs:12,sm:3,children:(0,m.jsx)(i.Z,{fullWidth:!0,id:"maxfeepergas",label:e("collectNFT.maxFee"),variant:"outlined",size:"small",type:"number",value:w,onChange:e=>{T(e.target.value)}})})]})}),(0,m.jsx)(a.ZP,{item:!0,xs:12,children:(0,m.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,m.jsx)(a.ZP,{item:!0,xs:9,sm:6,children:(0,m.jsx)(i.Z,{error:Q.collectionTo,fullWidth:!0,id:"mint_method",label:e("collectNFT.collectionTo"),variant:"outlined",size:"small",value:b,onChange:e=>{N(e.target.value)}})}),(0,m.jsx)(a.ZP,{item:!0,xs:1,children:(0,m.jsx)(o.Z,{variant:"text",onClick:e=>{N("")},children:e("collectNFT.collectionToClear")})})]})}),(0,m.jsx)(a.ZP,{item:!0,xs:12,children:(0,m.jsx)(c.Z,{setPk:e=>{K(e)},provider:j,chain:t,title:e("collectNFT.importPrivateKeyTitle"),error:Q.privateKey})}),(0,m.jsx)(a.ZP,{item:!0,xs:12,style:{display:L.isOpen?" ":"none"},children:(0,m.jsx)(d.Z,{msg:L.msg})},L.msg),(0,m.jsx)(a.ZP,{item:!0,xs:12,children:(0,m.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,m.jsx)(a.ZP,{item:!0,xs:1,children:(0,m.jsx)(o.Z,{variant:"contained",onClick:()=>{if(Y()){Z=!0,q([]);for(let e=0;e<G.pkArr.length;e++)setTimeout((async()=>{const t=e,r=j.eth.accounts.privateKeyToAccount(G.pkArr[t]).address;let n=await j.eth.getTransactionCount(r);const s=await W(j,S,r);if(z(s.length),s.length>0)for(let a=0;a<s.length;a++){const i=s[a],o=await M({from:r,to:S,gas:g.Sw,value:0,abi:_,parameters:[r,S,i]});if(o.error)return;"number"==typeof o&&o<g.Sw&&(E(G.pkArr[t],r,i,a,n,0),n++),a==s.length-1&&e==G.pkArr.length-1&&(Z=!1)}0==s.length&&e==G.pkArr.length-1&&(O({isOpen:!0,msg:"No NFTs found"}),Z=!1)}),1e3)}},disabled:Z,children:e("collectNFT.execute")})}),(0,m.jsx)(a.ZP,{item:!0,xs:1,style:{marginLeft:10,display:Z?"":"none"},children:(0,m.jsx)(h,{})})]})}),(0,m.jsx)(a.ZP,{item:!0,xs:12,style:{height:600,textAlign:"center",width:"100%"},children:(0,m.jsx)(l._,{rows:U,columns:J})}),(0,m.jsx)(a.ZP,{item:!0,xs:12,style:{height:30,width:"100%",textAlign:"center",display:"none"},children:"No Data"})]})})}}}]);
//# sourceMappingURL=544.a828f68c.chunk.js.map